
<section>
  <div class="example-button-row">
    <button [hidden]="estaLogeadoCliente()==false" mat-button routerLink ="/dashboard-comprador/eventos-comprador" color="primary">Mirar mis compras</button>
  </div>
</section>
  <form class="example-form" [formGroup]="form" (ngSubmit)="getEventosNombre()">
    <h1>Eventos</h1>
  <mat-form-field class="ancho" appearance="fill">
      <mat-label>Nombre</mat-label>
      <input type="text" matInput autocomplete="off" formControlName="nombre">
  </mat-form-field>
  <br>
  <button type="submit" mat-raised-button mat-button color="primary" [disabled]="form.invalid">Buscar</button>
</form>

<!--Inicio del componente dropdown-->
<h4>Busqueda de eventos</h4>
<mat-form-field appearance="fill">
  <mat-label>Filtrar eventos</mat-label>
  <mat-select>
    <mat-option *ngFor="let events of events" [value]="events.value">
      {{events.viewValue}}
    </mat-option>
  </mat-select>
</mat-form-field>
<!--fin del componente drop down-->

<div class="container">
  <table class="table table-striped table-bordered">
      <tbody>
          <tr *ngFor="let evento of eventos
          | paginate: { itemsPerPage: 25, currentPage: page }">
              <mat-card>
                <mat-card-title>Nombre del evento: {{evento.nombre}} 
                  <h1 *ngIf= "evento.estado==='cancelado'">({{evento.estado}})</h1> 
                </mat-card-title>
                <mat-card-subtitle>Dirección: {{evento.lugar}}</mat-card-subtitle>
                <mat-card-subtitle>Precio: {{evento.precio}}</mat-card-subtitle>
                <mat-card-subtitle [hidden]="!evento.cancelable" >Este evento es cancelable hasta {{evento.plazo}} dias antes del evento</mat-card-subtitle>
                <mat-card-subtitle [hidden]="evento.cancelable" >Este evento no es cancelable</mat-card-subtitle>
                <mat-card-actions>
                  <button mat-button (click)="entrarEvento(evento)">Mas información</button>
                  <button *ngIf= "evento.estado==='pendiente'" [hidden]=" eventoTerminado(evento)"  mat-button (click)="comprarTickets(evento)">Comprar tickets</button>
                 <!-- <button mat-button (click)="comentar(evento)">Ver comentarios</button>
                  <button mat-button (click)="calificar(evento)">Ver calificacion</button>-->
                </mat-card-actions>
              </mat-card>
              <br>
          </tr>
      </tbody>
  </table>
</div>

<pagination-controls (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente" ></pagination-controls>